# ggit

Like `git` but only with encrypted files in the repository using GPG.

## use case

Imagine you want a repository for credentials o some personal stuff and you want them encrypted, you can create a repository with a `gitignore` file like [this](resources/.gitignore) and create files and folders like always but using `ggit` you will be able to check the file status and differences, commit that differences and push them into the remote repository, always keeping only encrypted files there.

## usage

`ggit` implements the `add`, `commit`, `diff`,  `push`, `restore` and the `status` subcommands, all of them like `git` but with simplified.

Note: the `commit` subcommand requires to get the commit message from the command line using the `-m/--message` argument.

## example

If you use a `gitignore` like [this](resources/.gitignore), if you create a file inside a file in the root repository: `some_folder/foo` and you use the normal `git` command you will get something like:

```shell
$ git status
On branch master
Your branch is up to date with 'origin/master'.

nothing to commit, working tree clean
```

but if you use `ggit `instead:

```shell
$ ggit status
On branch master
Your branch is up to date with 'origin/master'.

Untracked files:
  (use 'ggit add <file>...' to include in what will be committed)
        some_folder/foo

no changes added to commit (use 'ggit add' and/or 'ggit commit -a')
```

so now you can add, commit and push this file into the repository:

```shell
$ ggit add some_folder/foo
$ ggit status
On branch master
Your branch is up to date with 'origin/master'.

Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        new file:   some_folder/foo.gpg
```

As you can see, `ggit` encrypted this file when it was added and now you can check this new file with `ggit` and with `git` (because now it's visible to it) so you can commit and push it using `ggit` as well as using `git`.

Suppose now you edit this file (the normal no encrypted one, of course!), you can use `ggit` to compare this file with the encrypted one which is in the repository:

```shell
$ ggit diff
--- some_folder/foo
+++ some_folder/foo
@@ -1 +1,3 @@
 This is a example text file
+
+This is a new line!!!
```

```shell
$ ggit status
On branch master
Your branch is ahead of 'origin/master' by 1 commit.
  (use "git push" to publish your local commits)

Changes not staged for commit:
  (use 'ggit add <file>...' to update what will be committed)
  (use 'ggit restore <file>...' to discard changes in working directory)
        modified:   some_folder/foo

no changes added to commit (use 'ggit add' and/or 'ggit commit -a')
```

When you add a file, `ggit` encrypts it so it's visible to `git` now, but you want to skip the add and just commit it, you can do it with something like `ggit commit -a -m 'commit message'` and the encrypted file will be replaced with this new modified encrypted one and left ready to be pushed.

## To Do

* Restore the file instead of replace it with a new one generated by its encrypted, to avoid issues with permissions.